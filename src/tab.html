<!doctype html>
<html>

<head>
    <meta charset="utf-8" />
    <title>ReadLater — All Links</title>
    <link rel="stylesheet" href="tab.css" />
</head>

<body>
    <header>
        <h1>ReadLater — Save Now, Read Later, Organize Tabs &amp; Windows</h1>
        <!-- options meta: quick CTA to enable Chrome sync and saved count -->
        <div id="optionsMeta" aria-hidden="false">
            <a id="enableSyncLink" class="mini-cta" href="#">Enable sync / Sign in</a>
            &middot;
            <span id="permButtons" style="margin-left:8px;">
                <button id="tabsPermissionBtn" class="mini-cta" title="Grant or revoke tab access">Grant Tab
                    Access</button>
            </span>
        </div>
    </header>


    <!-- Permissions: show declared and granted permissions with friendly descriptions -->
    <section id="permissions" aria-label="Extension permissions">
        <details>
            <summary>
                Permissions
            </summary>
            <p class="muted">The list below explains what the extension can access and which permissions are currently
                granted.</p>
            <ul id="permList" class="perm-list">
                <!-- populated by tab.js -->
            </ul>
        </details>
    </section>

    <main>
        <section id="linksSection" class="data-section">
            <h2 class="section-title">ReadLater Links</h2>
            <div class="section-controls links-controls">
                <input id="searchInput" type="search" placeholder="Search by title or URL..." class="search-input" />
                <button id="refreshBtn" title="Refresh list">Refresh</button>
                <button id="downloadBtn" title="Download JSON">Download JSON</button>
                <button id="clearSavedBtn" title="Clear all saved links">Clear saved links</button>
                <span class="count-badge saved-count">URLs Saved:<span id="savedCount">...</span></span>
            </div>

            <table id="linksTable" class="section-table" aria-label="Saved links">
                <thead>
                    <tr>
                        <th>Actions</th>
                        <th>Title</th>
                        <th>URL</th>
                        <th>Added</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- rows inserted by tab.js -->
                </tbody>
            </table>
        </section>

        <div id="emptyState" class="hidden">No links saved.</div>

        <!-- Open Tabs: list tabs in all windows and allow adding/closing them -->
        <section id="openTabsSection" class="data-section" aria-label="Open tabs">
            <h2 class="section-title">Already Opened Tabs</h2>
            <div class="section-controls tabs-controls">
                <input id="searchTabsInput" type="search" placeholder="Search open tabs (title, URL, window)..."
                    class="search-input" />
                <button id="refreshTabsBtn" title="Refresh open tabs">Refresh Tabs</button>
                <button id="addAllTabsBtn" title="Add all open tabs">Add All Tabs</button>
                <button id="dropDuplicatesBtn" title="Close duplicate tabs (keep one per URL)">Drop Duplicates</button>
                <label for="moveTargetWindow" class="visually-hidden">Move selected tabs to window</label>
                <select id="moveTargetWindow" aria-label="Target window for moving tabs"></select>
                <button id="moveTabsBtn" title="Move selected tabs" disabled>Move</button>
                <span id="totalTabsCount" class="count-badge tabs-count">Total: 0 tabs</span>
            </div>
            <table id="tabsTable" class="section-table" aria-label="Open browser tabs">
                <thead>
                    <tr>
                        <th>Actions</th>
                        <th class="sortable" data-col="title">Title <span class="sort-indicator"></span></th>
                        <th class="sortable" data-col="url">URL <span class="sort-indicator"></span></th>
                        <th class="sortable" data-col="window">Window <span class="sort-indicator"></span></th>
                    </tr>
                </thead>
                <tbody>
                    <!-- rows inserted by tab.js -->
                </tbody>
            </table>
            <div id="tabsEmptyState" class="hidden">No open tabs found.</div>
        </section>
    </main>

    <script src="core.js"></script>
    <script src="tab.js"></script>
</body>

</html>